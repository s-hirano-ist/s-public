---
import AboutMe from "@components/AboutMe.astro";
import Footer from "@components/Footer.astro";
import Header from "@components/Header.astro";
import PortfolioLinks from "@components/PortfolioLinks.astro";
import TechStack from "@components/TechStack.astro";
import { SITE } from "@config";
// import achievementsData from "@layouts/Achievements.json";
import Layout from "@layouts/Layout.astro";
import Top from "@components/Top.astro";
import Education from "@components/Education.astro";
import WorkExperience from "@components/WorkExperience.astro";
import Qualifications from "@components/Qualifications.astro";
---

<Layout title="Portfolio" description={`Portfolio of ${SITE.author}.`}>
  <main class="background main-contents" data-theme="noTheme">
    <script type="application/ld+json" is:inline>
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Portfolio of s-hirano-ist",
        "url": "https://s-hirano.com",
        "description": "Portfolio of s-hirano-ist.",
        "author": {
          "@type": "Person",
          "name": "s-hirano-ist",
          "url": "https://s-hirano.com"
        },
        // FIXME: add more json-ld settings
        // "potentialAction": {
        //   "@type": "SearchAction",
        //   "target": "https://yourportfolio.com/search?q={search_term_string}",
        //   "query-input": "required name=search_term_string"
        // },
        "sameAs": [
          "https://github.com/s-hirano-ist",
          "https://x.com/s_hirano_ist"
        ]
      }
    </script>
    <Header title="Portfolio" darkModeDisabled />
    <section class="mb-8">
      <div class="bento-grid">
        <AboutMe />

        <Top />

        <PortfolioLinks />

        <TechStack />

        <Education />

        <WorkExperience />

        <Qualifications />
      </div>
    </section>
    <Footer darkModeDisabled />
  </main>
</Layout>

<style>
  h2 {
    @apply animate-wiggle animate-infinite;
  }

  .background {
    background: linear-gradient(#4f697b, #2a353d);
  }

  .main-contents h2 {
    @apply my-4 inline-block text-xl font-bold text-primary sm:text-2xl;
  }

  .main-contents section {
    @apply mx-auto px-4 pt-8;
  }

  /* scroll button */
  .chevron {
    position: absolute;
    width: 28px;
    height: 8px;
    opacity: 0;
    transform: scale3d(0.5, 0.5, 0.5);
    animation: move 3s ease-out infinite;
  }

  .chevron:first-child {
    animation: move 3s ease-out 1s infinite;
  }

  .chevron:nth-child(2) {
    animation: move 3s ease-out 2s infinite;
  }

  .chevron::before,
  .chevron::after {
    width: 51%;
    height: 100%;
    content: " ";
    position: absolute;
    top: 0;
    background: #fff;
  }

  .chevron::before {
    left: 0;
    transform: skew(0deg, 30deg);
  }

  .chevron::after {
    right: 0;
    width: 50%;
    transform: skew(0deg, -30deg);
  }

  @keyframes move {
    25% {
      opacity: 1;
    }

    33% {
      opacity: 1;
      transform: translateY(30px);
    }

    67% {
      opacity: 1;
      transform: translateY(40px);
    }

    100% {
      opacity: 0;
      transform: translateY(55px) scale3d(0.5, 0.5, 0.5);
    }
  }

  .text {
    display: block;
    font-size: 12px;
    color: #fff;
    text-transform: uppercase;
    white-space: nowrap;
    opacity: 0.25;
    animation: pulse 2s linear alternate infinite;
  }

  @keyframes pulse {
    to {
      opacity: 1;
    }
  }

  /* Timeline inside BentoTile */
  .timeline-container {
    @apply mt-2 text-xs;
  }

  /* Bento Grid Layout */
  .bento-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    grid-auto-rows: minmax(150px, auto);
    gap: 1rem;
    max-width: 1400px;
    margin: 0 auto;
  }

  /* Responsive Bento Grid */
  @media (width <= 1200px) {
    .bento-grid {
      grid-template-columns: repeat(4, 1fr);
      grid-auto-rows: minmax(150px, auto);
    }
  }

  @media (width <= 1024px) {
    .bento-grid {
      grid-template-columns: repeat(3, 1fr);
      grid-auto-rows: minmax(140px, auto);
    }
  }

  @media (width <= 768px) {
    .bento-grid {
      grid-template-columns: repeat(2, 1fr);
      grid-auto-rows: minmax(130px, auto);
      gap: 0.75rem;
    }
  }

  @media (width <= 480px) {
    .bento-grid {
      grid-template-columns: 1fr;
      grid-template-rows: auto;
      gap: 1rem;
    }

    /* Reset all tiles to single column on mobile */
    .bento-grid > * {
      grid-column: 1 !important;
      grid-row: auto !important;
    }
  }
</style>
