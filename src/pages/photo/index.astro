---
import { CONTENTS } from "@content/_photo/data";
import PortfolioLayout from "@layouts/PortfolioLayout.astro";
import { Image } from "astro:assets";
---

<PortfolioLayout
  headerTitle="PHOTOGRAPH"
  title="sola-apochromat-lens"
  subTitle="撮影の議事録">
  <div class="pswp-gallery grid w-full grid-cols-3 gap-4" id="my-gallery">
    {
      CONTENTS.map(src => {
        return (
          <a
            href={src.src}
            data-pswp-src={src.src}
            data-pswp-width={src.width}
            data-pswp-height={src.height}
            target="_blank">
            <div class="aspect-square">
              <Image class="aspect-square object-contain" src={src} alt="" />
            </div>
          </a>
        );
      })
    }
  </div>
</PortfolioLayout>
<script>
  import PhotoSwipeLightbox from "photoswipe/lightbox";
  import "photoswipe/style.css";
  const lightbox = new PhotoSwipeLightbox({
    gallery: "#my-gallery",
    children: "a",
    pswpModule: () => import("photoswipe"),
    bgOpacity: 1.0,
  });
  lightbox.init();
</script>
