---
import { Image } from "astro:assets";
import PortfolioLayout from "@layouts/PortfolioLayout.astro";
import { CONTENTS } from "data/_photo/data";
---

<PortfolioLayout
  headerTitle="PHOTOGRAPH"
  title="sola-apochromat-lens"
  subTitle="撮影の議事録 from 2020年。風景写真から日常のスナップまで、レンズを通して見た世界を記録しています。">
  <div class="pswp-gallery grid w-full grid-cols-3 gap-4" id="my-gallery">
    {
      CONTENTS.map(src => {
        return (
          <a
            href={src.src}
            data-pswp-src={src.src}
            data-pswp-width={src.width}
            data-pswp-height={src.height}
            target="_blank"
            class="group overflow-hidden rounded-lg shadow-sm transition-shadow duration-300 hover:shadow-md">
            <div class="aspect-square overflow-hidden">
              <Image
                class="aspect-square object-contain transition-transform duration-300 group-hover:scale-[1.02]"
                src={src}
                alt=""
              />
            </div>
          </a>
        );
      })
    }
  </div>
</PortfolioLayout>
<script>
  import PhotoSwipeLightbox from "photoswipe/lightbox";
  import "photoswipe/style.css";
  const lightbox = new PhotoSwipeLightbox({
    gallery: "#my-gallery",
    children: "a",
    pswpModule: () => import("photoswipe"),
    bgOpacity: 1.0,
  });
  lightbox.init();
</script>
